<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.8 Labels, Selectors and Annotations | MLOps Engineering</title>
  <meta name="description" content="Implementing an MLOps infrastructure with Airflow and MLFlow utilizing K8s, Terraform, and GithubActions." />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="2.8 Labels, Selectors and Annotations | MLOps Engineering" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Implementing an MLOps infrastructure with Airflow and MLFlow utilizing K8s, Terraform, and GithubActions." />
  <meta name="github-repo" content="seblum/mlops-engineering-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.8 Labels, Selectors and Annotations | MLOps Engineering" />
  
  <meta name="twitter:description" content="Implementing an MLOps infrastructure with Airflow and MLFlow utilizing K8s, Terraform, and GithubActions." />
  

<meta name="author" content="Sebastian Blum" />


<meta name="date" content="2023-02-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="namespaces.html"/>
<link rel="next" href="configmaps.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preamble</a>
<ul>
<li class="chapter" data-level="" data-path="topics.html"><a href="topics.html"><i class="fa fa-check"></i>Topics</a></li>
<li class="chapter" data-level="0.1" data-path="exemplary-deployment.html"><a href="exemplary-deployment.html"><i class="fa fa-check"></i><b>0.1</b> Exemplary Deployment</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="terraform.html"><a href="terraform.html"><i class="fa fa-check"></i><b>1</b> Terraform</a>
<ul>
<li class="chapter" data-level="1.1" data-path="prerequisites.html"><a href="prerequisites.html"><i class="fa fa-check"></i><b>1.1</b> Prerequisites</a></li>
<li class="chapter" data-level="1.2" data-path="basic-usage.html"><a href="basic-usage.html"><i class="fa fa-check"></i><b>1.2</b> Basic usage</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="basic-usage.html"><a href="basic-usage.html#terraform-init"><i class="fa fa-check"></i><b>1.2.1</b> terraform init</a></li>
<li class="chapter" data-level="1.2.2" data-path="basic-usage.html"><a href="basic-usage.html#terraform-validate"><i class="fa fa-check"></i><b>1.2.2</b> terraform validate</a></li>
<li class="chapter" data-level="1.2.3" data-path="basic-usage.html"><a href="basic-usage.html#terraform-plan"><i class="fa fa-check"></i><b>1.2.3</b> terraform plan</a></li>
<li class="chapter" data-level="1.2.4" data-path="basic-usage.html"><a href="basic-usage.html#terraform-apply"><i class="fa fa-check"></i><b>1.2.4</b> terraform apply</a></li>
<li class="chapter" data-level="1.2.5" data-path="basic-usage.html"><a href="basic-usage.html#terraform-destroy"><i class="fa fa-check"></i><b>1.2.5</b> terraform destroy</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="core-concepts.html"><a href="core-concepts.html"><i class="fa fa-check"></i><b>1.3</b> Core Concepts</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="core-concepts.html"><a href="core-concepts.html#providers"><i class="fa fa-check"></i><b>1.3.1</b> Providers</a></li>
<li class="chapter" data-level="1.3.2" data-path="core-concepts.html"><a href="core-concepts.html#resources"><i class="fa fa-check"></i><b>1.3.2</b> Resources</a></li>
<li class="chapter" data-level="1.3.3" data-path="core-concepts.html"><a href="core-concepts.html#data-sources"><i class="fa fa-check"></i><b>1.3.3</b> Data Sources</a></li>
<li class="chapter" data-level="1.3.4" data-path="core-concepts.html"><a href="core-concepts.html#state"><i class="fa fa-check"></i><b>1.3.4</b> State</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="modules.html"><a href="modules.html"><i class="fa fa-check"></i><b>1.4</b> Modules</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="modules.html"><a href="modules.html#input-variables"><i class="fa fa-check"></i><b>1.4.1</b> Input Variables</a></li>
<li class="chapter" data-level="1.4.2" data-path="modules.html"><a href="modules.html#output-variables"><i class="fa fa-check"></i><b>1.4.2</b> Output Variables</a></li>
<li class="chapter" data-level="1.4.3" data-path="modules.html"><a href="modules.html#local-variables"><i class="fa fa-check"></i><b>1.4.3</b> Local Variables</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="additional-tips-tricks.html"><a href="additional-tips-tricks.html"><i class="fa fa-check"></i><b>1.5</b> Additional tips &amp; tricks</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="additional-tips-tricks.html"><a href="additional-tips-tricks.html#count"><i class="fa fa-check"></i><b>1.5.1</b> count</a></li>
<li class="chapter" data-level="1.5.2" data-path="additional-tips-tricks.html"><a href="additional-tips-tricks.html#for-each"><i class="fa fa-check"></i><b>1.5.2</b> for-each</a></li>
<li class="chapter" data-level="1.5.3" data-path="additional-tips-tricks.html"><a href="additional-tips-tricks.html#for"><i class="fa fa-check"></i><b>1.5.3</b> for</a></li>
<li class="chapter" data-level="1.5.4" data-path="additional-tips-tricks.html"><a href="additional-tips-tricks.html#workspaces"><i class="fa fa-check"></i><b>1.5.4</b> Workspaces</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="kubernetes.html"><a href="kubernetes.html"><i class="fa fa-check"></i><b>2</b> Kubernetes</a>
<ul>
<li class="chapter" data-level="2.1" data-path="prerequisites-1.html"><a href="prerequisites-1.html"><i class="fa fa-check"></i><b>2.1</b> Prerequisites</a></li>
<li class="chapter" data-level="2.2" data-path="core-concepts-1.html"><a href="core-concepts-1.html"><i class="fa fa-check"></i><b>2.2</b> Core Concepts</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="core-concepts-1.html"><a href="core-concepts-1.html#nodes"><i class="fa fa-check"></i><b>2.2.1</b> Nodes</a></li>
<li class="chapter" data-level="2.2.2" data-path="core-concepts-1.html"><a href="core-concepts-1.html#pods"><i class="fa fa-check"></i><b>2.2.2</b> Pods</a></li>
<li class="chapter" data-level="" data-path="core-concepts-1.html"><a href="core-concepts-1.html#imperative-declarative-management"><i class="fa fa-check"></i>Imperative &amp; Declarative Management</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="application-deployment-design.html"><a href="application-deployment-design.html"><i class="fa fa-check"></i><b>2.3</b> Application Deployment &amp; Design</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="application-deployment-design.html"><a href="application-deployment-design.html#deployments"><i class="fa fa-check"></i><b>2.3.1</b> Deployments</a></li>
<li class="chapter" data-level="2.3.2" data-path="application-deployment-design.html"><a href="application-deployment-design.html#resource-management"><i class="fa fa-check"></i><b>2.3.2</b> Resource Management</a></li>
<li class="chapter" data-level="2.3.3" data-path="application-deployment-design.html"><a href="application-deployment-design.html#daemonsets"><i class="fa fa-check"></i><b>2.3.3</b> DaemonSets</a></li>
<li class="chapter" data-level="2.3.4" data-path="application-deployment-design.html"><a href="application-deployment-design.html#statefulsets"><i class="fa fa-check"></i><b>2.3.4</b> StatefulSets</a></li>
<li class="chapter" data-level="2.3.5" data-path="application-deployment-design.html"><a href="application-deployment-design.html#jobs-cron-jobs"><i class="fa fa-check"></i><b>2.3.5</b> Jobs &amp; Cron Jobs</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="services-networking.html"><a href="services-networking.html"><i class="fa fa-check"></i><b>2.4</b> Services &amp; Networking</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="services-networking.html"><a href="services-networking.html#services"><i class="fa fa-check"></i><b>2.4.1</b> Services</a></li>
<li class="chapter" data-level="2.4.2" data-path="services-networking.html"><a href="services-networking.html#exemplary-setup-of-database-and-frontend-microservices"><i class="fa fa-check"></i><b>2.4.2</b> Exemplary setup of database and frontend microservices</a></li>
<li class="chapter" data-level="2.4.3" data-path="services-networking.html"><a href="services-networking.html#service-discovery"><i class="fa fa-check"></i><b>2.4.3</b> Service Discovery</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="volume-storage.html"><a href="volume-storage.html"><i class="fa fa-check"></i><b>2.5</b> Volume &amp; Storage</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="volume-storage.html"><a href="volume-storage.html#emptydir-volume"><i class="fa fa-check"></i><b>2.5.1</b> EmptyDir Volume</a></li>
<li class="chapter" data-level="2.5.2" data-path="volume-storage.html"><a href="volume-storage.html#hostpath-volume"><i class="fa fa-check"></i><b>2.5.2</b> HostPath Volume</a></li>
<li class="chapter" data-level="2.5.3" data-path="volume-storage.html"><a href="volume-storage.html#persistent-volumes"><i class="fa fa-check"></i><b>2.5.3</b> Persistent Volumes</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="environment-configuration-security.html"><a href="environment-configuration-security.html"><i class="fa fa-check"></i><b>2.6</b> Environment, Configuration &amp; Security</a></li>
<li class="chapter" data-level="2.7" data-path="namespaces.html"><a href="namespaces.html"><i class="fa fa-check"></i><b>2.7</b> Namespaces</a></li>
<li class="chapter" data-level="2.8" data-path="labels-selectors-and-annotations.html"><a href="labels-selectors-and-annotations.html"><i class="fa fa-check"></i><b>2.8</b> Labels, Selectors and Annotations</a></li>
<li class="chapter" data-level="2.9" data-path="configmaps.html"><a href="configmaps.html"><i class="fa fa-check"></i><b>2.9</b> ConfigMaps</a></li>
<li class="chapter" data-level="2.10" data-path="secrets.html"><a href="secrets.html"><i class="fa fa-check"></i><b>2.10</b> Secrets</a>
<ul>
<li class="chapter" data-level="2.10.1" data-path="secrets.html"><a href="secrets.html#exemplary-use-case-of-secrets"><i class="fa fa-check"></i><b>2.10.1</b> Exemplary use case of secrets</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="health-checks.html"><a href="health-checks.html"><i class="fa fa-check"></i><b>2.11</b> Health Checks</a>
<ul>
<li class="chapter" data-level="2.11.1" data-path="health-checks.html"><a href="health-checks.html#liveness-probe"><i class="fa fa-check"></i><b>2.11.1</b> Liveness Probe</a></li>
<li class="chapter" data-level="2.11.2" data-path="health-checks.html"><a href="health-checks.html#readiness-probe"><i class="fa fa-check"></i><b>2.11.2</b> Readiness Probe</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="helm.html"><a href="helm.html"><i class="fa fa-check"></i><b>2.12</b> Helm</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="airflow.html"><a href="airflow.html"><i class="fa fa-check"></i><b>3</b> Airflow</a>
<ul>
<li class="chapter" data-level="3.1" data-path="prerequisites-2.html"><a href="prerequisites-2.html"><i class="fa fa-check"></i><b>3.1</b> Prerequisites</a></li>
<li class="chapter" data-level="3.2" data-path="fundamental-concepts.html"><a href="fundamental-concepts.html"><i class="fa fa-check"></i><b>3.2</b> Fundamental concepts</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="fundamental-concepts.html"><a href="fundamental-concepts.html#dags"><i class="fa fa-check"></i><b>3.2.1</b> DAGs</a></li>
<li class="chapter" data-level="3.2.2" data-path="fundamental-concepts.html"><a href="fundamental-concepts.html#operators"><i class="fa fa-check"></i><b>3.2.2</b> Operators</a></li>
<li class="chapter" data-level="3.2.3" data-path="fundamental-concepts.html"><a href="fundamental-concepts.html#tasks"><i class="fa fa-check"></i><b>3.2.3</b> Tasks</a></li>
<li class="chapter" data-level="3.2.4" data-path="fundamental-concepts.html"><a href="fundamental-concepts.html#scheduling"><i class="fa fa-check"></i><b>3.2.4</b> Scheduling</a></li>
<li class="chapter" data-level="3.2.5" data-path="fundamental-concepts.html"><a href="fundamental-concepts.html#xcom"><i class="fa fa-check"></i><b>3.2.5</b> XCom</a></li>
<li class="chapter" data-level="3.2.6" data-path="fundamental-concepts.html"><a href="fundamental-concepts.html#taskflow"><i class="fa fa-check"></i><b>3.2.6</b> Taskflow</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="exemplary-ml-workflow.html"><a href="exemplary-ml-workflow.html"><i class="fa fa-check"></i><b>3.3</b> Exemplary ML workflow</a></li>
<li class="chapter" data-level="3.4" data-path="airflow-infrastructure.html"><a href="airflow-infrastructure.html"><i class="fa fa-check"></i><b>3.4</b> Airflow infrastructure</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="airflow-infrastructure.html"><a href="airflow-infrastructure.html#airflow-as-a-distributed-system"><i class="fa fa-check"></i><b>3.4.1</b> Airflow as a distributed system</a></li>
<li class="chapter" data-level="3.4.2" data-path="airflow-infrastructure.html"><a href="airflow-infrastructure.html#scheduler-1"><i class="fa fa-check"></i><b>3.4.2</b> Scheduler</a></li>
<li class="chapter" data-level="3.4.3" data-path="airflow-infrastructure.html"><a href="airflow-infrastructure.html#webserver"><i class="fa fa-check"></i><b>3.4.3</b> Webserver</a></li>
<li class="chapter" data-level="3.4.4" data-path="airflow-infrastructure.html"><a href="airflow-infrastructure.html#executor"><i class="fa fa-check"></i><b>3.4.4</b> Executor</a></li>
<li class="chapter" data-level="3.4.5" data-path="airflow-infrastructure.html"><a href="airflow-infrastructure.html#dag-directory"><i class="fa fa-check"></i><b>3.4.5</b> DAG Directory</a></li>
<li class="chapter" data-level="3.4.6" data-path="airflow-infrastructure.html"><a href="airflow-infrastructure.html#metadata-database"><i class="fa fa-check"></i><b>3.4.6</b> Metadata Database</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">MLOps Engineering</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="labels-selectors-and-annotations" class="section level2 hasAnchor" number="2.8">
<h2><span class="header-section-number">2.8</span> Labels, Selectors and Annotations<a href="labels-selectors-and-annotations.html#labels-selectors-and-annotations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In the previous sections we already made use of labels, selectors, and annotations, e.g. when matching the ClusterIP service to the back-deployments. Labels are a key-value pair that can be attached to objects such as Pods, Deployments, Replicaset, Services, etc. Overall, they are used to organize and select objects.</p>
<p>Annotations are an unstructured key-value mapping stored with a resource that may be set by external tools to store and retrieve any metadata. In contrast to labels and selectors, annotations are not used for querying purposes but rather to attach arbitrary non-identifying metadata. These data are used to assist tools and libraries to work with the K8s ressource, for example to pass configuration around between systems, or to send values so external tools can perform more informed decisions based on the annotations provided.</p>
<p>Selectors are used to filter K8s objects based on a set of labels. A selector basically simply uses a boolean language to select pods. The selector matches the labels under a an all or nothing principle, meaning everything specified in the selector must be fulfilled by the labels. However, this works not the other way around. If there are multiple labels specified and the selector matches only one of them, the selector will match the ressource itself. How a selector matches the labels can be tested using the <code>kubectl</code> commands as seen below.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb50-1"><a href="labels-selectors-and-annotations.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show all pods including their labels</span></span>
<span id="cb50-2"><a href="labels-selectors-and-annotations.html#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get pods <span class="at">--show-labels</span></span>
<span id="cb50-3"><a href="labels-selectors-and-annotations.html#cb50-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-4"><a href="labels-selectors-and-annotations.html#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Show only pods that match the specified selector key-value pairs</span></span>
<span id="cb50-5"><a href="labels-selectors-and-annotations.html#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get pods <span class="at">--selector</span><span class="op">=</span><span class="st">&quot;key=value&quot;</span></span>
<span id="cb50-6"><a href="labels-selectors-and-annotations.html#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get pods <span class="at">--selector</span><span class="op">=</span><span class="st">&quot;key=value,key2=value2&quot;</span></span>
<span id="cb50-7"><a href="labels-selectors-and-annotations.html#cb50-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-8"><a href="labels-selectors-and-annotations.html#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="co"># in short one can also write</span></span>
<span id="cb50-9"><a href="labels-selectors-and-annotations.html#cb50-9" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get pods <span class="at">-l</span> key=value</span>
<span id="cb50-10"><a href="labels-selectors-and-annotations.html#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="co"># or also look for multiple</span></span>
<span id="cb50-11"><a href="labels-selectors-and-annotations.html#cb50-11" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get pods <span class="at">-l</span> <span class="st">&#39;key in (value1, value2)&#39;</span></span></code></pre></div>
<p>When using ReplicaSets in a Deployment, their selector matches the labels to a specific pod (check e.g. the section describing Deployments). Any Pods matching the label of the selector will be created according to the specified replicas. Of course, there can also be multiple labels specified.
The same principle accounts when working with Services. Below example shows two different Pods and two NodePort services. Each service matches to a Pod based on their selector-label relationship. Have a look at their specific settings using <code>kubectl</code>. The Nodeport Service <em>labels-and-selectors-2</em> has no endpoints, as it is a all-or-none-principle and none of the created Pods matches the label <code>environment=dev</code>. In contrast, even though the Pod <em>cat-v1</em> has multiple labels specified <code>app: cat-v1; version: one</code>, the NodePort Service <em>labels-and-selectors</em> is linked to it. It is also linked to the second Pod <em>cat-v2</em>.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb51-1"><a href="labels-selectors-and-annotations.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># labels.yaml</span></span>
<span id="cb51-2"><a href="labels-selectors-and-annotations.html#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb51-3"><a href="labels-selectors-and-annotations.html#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Pod</span></span>
<span id="cb51-4"><a href="labels-selectors-and-annotations.html#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb51-5"><a href="labels-selectors-and-annotations.html#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> cat-v1</span></span>
<span id="cb51-6"><a href="labels-selectors-and-annotations.html#cb51-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">labels</span><span class="kw">:</span></span>
<span id="cb51-7"><a href="labels-selectors-and-annotations.html#cb51-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">app</span><span class="kw">:</span><span class="at"> cat-v1  </span></span>
<span id="cb51-8"><a href="labels-selectors-and-annotations.html#cb51-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">version</span><span class="kw">:</span><span class="at"> one  </span></span>
<span id="cb51-9"><a href="labels-selectors-and-annotations.html#cb51-9" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb51-10"><a href="labels-selectors-and-annotations.html#cb51-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb51-11"><a href="labels-selectors-and-annotations.html#cb51-11" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> cat-v1</span></span>
<span id="cb51-12"><a href="labels-selectors-and-annotations.html#cb51-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;seblum/mlops-public:cat-v1&quot;</span></span>
<span id="cb51-13"><a href="labels-selectors-and-annotations.html#cb51-13" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">resources</span><span class="kw">:</span></span>
<span id="cb51-14"><a href="labels-selectors-and-annotations.html#cb51-14" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">limits</span><span class="kw">:</span></span>
<span id="cb51-15"><a href="labels-selectors-and-annotations.html#cb51-15" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">memory</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;128Mi&quot;</span></span>
<span id="cb51-16"><a href="labels-selectors-and-annotations.html#cb51-16" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">cpu</span><span class="kw">:</span><span class="at">  </span><span class="st">&quot;500m&quot;</span></span>
<span id="cb51-17"><a href="labels-selectors-and-annotations.html#cb51-17" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb51-18"><a href="labels-selectors-and-annotations.html#cb51-18" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb51-19"><a href="labels-selectors-and-annotations.html#cb51-19" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Pod</span></span>
<span id="cb51-20"><a href="labels-selectors-and-annotations.html#cb51-20" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb51-21"><a href="labels-selectors-and-annotations.html#cb51-21" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> cat-v2</span></span>
<span id="cb51-22"><a href="labels-selectors-and-annotations.html#cb51-22" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">labels</span><span class="kw">:</span></span>
<span id="cb51-23"><a href="labels-selectors-and-annotations.html#cb51-23" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">app</span><span class="kw">:</span><span class="at"> cat-v1</span></span>
<span id="cb51-24"><a href="labels-selectors-and-annotations.html#cb51-24" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb51-25"><a href="labels-selectors-and-annotations.html#cb51-25" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb51-26"><a href="labels-selectors-and-annotations.html#cb51-26" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> cat-v2</span></span>
<span id="cb51-27"><a href="labels-selectors-and-annotations.html#cb51-27" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;seblum/mlops-public:cat-v2&quot;</span></span>
<span id="cb51-28"><a href="labels-selectors-and-annotations.html#cb51-28" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">resources</span><span class="kw">:</span></span>
<span id="cb51-29"><a href="labels-selectors-and-annotations.html#cb51-29" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">limits</span><span class="kw">:</span></span>
<span id="cb51-30"><a href="labels-selectors-and-annotations.html#cb51-30" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">memory</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;128Mi&quot;</span></span>
<span id="cb51-31"><a href="labels-selectors-and-annotations.html#cb51-31" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">cpu</span><span class="kw">:</span><span class="at">  </span><span class="st">&quot;500m&quot;</span></span>
<span id="cb51-32"><a href="labels-selectors-and-annotations.html#cb51-32" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb51-33"><a href="labels-selectors-and-annotations.html#cb51-33" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb51-34"><a href="labels-selectors-and-annotations.html#cb51-34" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Service</span></span>
<span id="cb51-35"><a href="labels-selectors-and-annotations.html#cb51-35" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb51-36"><a href="labels-selectors-and-annotations.html#cb51-36" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> labels-and-selectors</span></span>
<span id="cb51-37"><a href="labels-selectors-and-annotations.html#cb51-37" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb51-38"><a href="labels-selectors-and-annotations.html#cb51-38" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> NodePort</span></span>
<span id="cb51-39"><a href="labels-selectors-and-annotations.html#cb51-39" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">selector</span><span class="kw">:</span></span>
<span id="cb51-40"><a href="labels-selectors-and-annotations.html#cb51-40" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">app</span><span class="kw">:</span><span class="at"> cat-v1</span></span>
<span id="cb51-41"><a href="labels-selectors-and-annotations.html#cb51-41" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb51-42"><a href="labels-selectors-and-annotations.html#cb51-42" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">port</span><span class="kw">:</span><span class="at"> </span><span class="dv">80</span></span>
<span id="cb51-43"><a href="labels-selectors-and-annotations.html#cb51-43" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">targetPort</span><span class="kw">:</span><span class="at"> </span><span class="dv">5000</span></span>
<span id="cb51-44"><a href="labels-selectors-and-annotations.html#cb51-44" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb51-45"><a href="labels-selectors-and-annotations.html#cb51-45" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb51-46"><a href="labels-selectors-and-annotations.html#cb51-46" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Service</span></span>
<span id="cb51-47"><a href="labels-selectors-and-annotations.html#cb51-47" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb51-48"><a href="labels-selectors-and-annotations.html#cb51-48" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> labels-and-selectors-2</span></span>
<span id="cb51-49"><a href="labels-selectors-and-annotations.html#cb51-49" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb51-50"><a href="labels-selectors-and-annotations.html#cb51-50" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> NodePort</span></span>
<span id="cb51-51"><a href="labels-selectors-and-annotations.html#cb51-51" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">selector</span><span class="kw">:</span></span>
<span id="cb51-52"><a href="labels-selectors-and-annotations.html#cb51-52" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">app</span><span class="kw">:</span><span class="at"> cat-v1</span></span>
<span id="cb51-53"><a href="labels-selectors-and-annotations.html#cb51-53" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">environment</span><span class="kw">:</span><span class="at"> dev</span></span>
<span id="cb51-54"><a href="labels-selectors-and-annotations.html#cb51-54" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb51-55"><a href="labels-selectors-and-annotations.html#cb51-55" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">port</span><span class="kw">:</span><span class="at"> </span><span class="dv">80</span></span>
<span id="cb51-56"><a href="labels-selectors-and-annotations.html#cb51-56" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">targetPort</span><span class="kw">:</span><span class="at"> </span><span class="dv">5000</span></span></code></pre></div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="namespaces.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="configmaps.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/seblum/kubernetes-training/edit/master/04.5-Kubernetes-Environment_Configuration_and_Security.md",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
